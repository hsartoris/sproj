
\tikzset{
  annotated cuboid/.pic={
    \tikzset{%
      every edge quotes/.append style={midway, auto},
      /cuboid/.cd,
      #1
    }
	\draw [every edge/.append style={pic actions, densely dashed, opacity=.5}, 
	pic actions]
    (0,0,0) coordinate (o) -- ++(-\cubescale*\cubex,0,0) coordinate (a) -- ++(0,-\cubescale*\cubey,0) coordinate (b) edge coordinate [pos=1] (g) ++(0,0,-\cubescale*\cubez)  -- ++(\cubescale*\cubex,0,0) coordinate (c) -- cycle
    (o) -- ++(0,0,-\cubescale*\cubez) coordinate (d) -- ++(0,-\cubescale*\cubey,0) coordinate (e) edge (g) -- (c) -- cycle
    (o) -- (a) -- ++(0,0,-\cubescale*\cubez) coordinate (f) edge (g) -- (d) -- cycle;
    \path [every edge/.append style={pic actions, |-|}]
    (b) +(0,-5pt) coordinate (b1) edge ["\xunits"'] (b1 -| c)
    (b) +(-5pt,0) coordinate (b2) edge ["\yunits"] (b2 |- a)
    (c) +(3.5pt,-3.5pt) coordinate (c2) edge ["\zunits"'] ([xshift=3.5pt,yshift=-3.5pt]e)
    ;
  },
  /cuboid/.search also={/tikz},
  /cuboid/.cd,
  width/.store in=\cubex,
  height/.store in=\cubey,
  depth/.store in=\cubez,
  xlabel/.store in=\xunits,
  ylabel/.store in=\yunits,
  zlabel/.store in=\zunits,
  scale/.store in=\cubescale,
  width=10,
  height=10,
  depth=10,
  scale=.1,
}

\tikzset{
    annotated square/.pic={
        \tikzset{%
            every edge quotes/.append style={midway, auto},
            /square/.cd,
            #1
        }
        \draw (0,0,0) -- node[above]{\xlabel} ++ (-\x*\scale,0,0) -- node[left]{\ylabel} ++ (0, -\y*\scale, 0) -- ++ (\x*\scale,0,0) -- cycle;
    },
    /square/.search also={/tikz},
    width/.store in=\x,
    height/.store in=\y,
    scale/.store in=\scale,
    xlabel/.store in=\xlabel,
    ylabel/.store in=\ylabel,
    scale=.1,
}
